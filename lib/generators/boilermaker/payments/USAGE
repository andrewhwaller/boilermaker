Description:
    Generates a complete subscription billing system using Pay gem with Stripe.
    Supports both user-scoped and account-scoped subscriptions.

Features:
    - Stripe integration via Pay gem
    - Pricing page with plan comparison
    - Checkout flow with Stripe Checkout
    - Billing portal for subscription management
    - Billing settings page with invoice history
    - Webhook handling (via Pay gem)

Example:
    bin/rails generate boilermaker:payments

    You will be prompted to choose a scope:
      [1] Account - One subscription per team/organization
      [2] User    - Each user has their own subscription

    This will create:
        config/initializers/pay.rb
        app/controllers/payments_controller.rb
        app/views/payments/pricing.rb
        app/views/settings/billing.rb
        app/components/pricing_card.rb
        app/components/subscription_status.rb
        app/controllers/concerns/payments_feature.rb
        config/routes/payments.rb
        test/controllers/payments_controller_test.rb

Options:
    --skip-routes   Skip generating route file
    --skip-tests    Skip generating test files
    --skip-config   Skip updating boilermaker.yml
    --skip-seeds    Skip adding seed data

Setup After Generation:
    1. Run migrations: bin/rails db:migrate

    2. Configure Stripe credentials:
       bin/rails credentials:edit

       Add:
       stripe:
         private_key: sk_test_xxx
         public_key: pk_test_xxx
         signing_secret: whsec_xxx

    3. Create plans in Stripe Dashboard

    4. Update config/initializers/pay.rb with your plan details

    5. Set webhook URL in Stripe:
       https://yourapp.com/pay/webhooks/stripe

Routes:
    GET  /pricing           - Pricing page
    POST /payments/checkout/:plan - Start checkout
    GET  /payments/success  - Checkout success
    GET  /payments/cancel   - Checkout cancelled
    POST /payments/portal   - Billing portal redirect
    GET  /settings/billing  - Billing settings page
