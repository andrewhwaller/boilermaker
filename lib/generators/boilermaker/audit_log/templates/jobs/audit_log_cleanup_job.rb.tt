# frozen_string_literal: true

# Daily cleanup job for old audit logs
# Configured to run via SolidQueue recurring jobs (config/recurring.yml)
#
# Manual execution:
#   AuditLogCleanupJob.perform_now
#
class AuditLogCleanupJob < ApplicationJob
  queue_as :default

  def perform
    deleted_count = AuditLog.cleanup_old_records!
    Rails.logger.info "[AuditLogCleanupJob] Deleted #{deleted_count} old audit log records"
  end
end
